<h2>Formulário de cargos</h2>
<form>
  <mat-card appearance="outlined">
    <mat-card-header>
      <mat-card-title class="header-register-position">Dados do cargo</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field id="input-position" appearance="outline">
        <mat-label>Cargo</mat-label>
        <input required matInput placeholder="Gerente" />
      </mat-form-field>
    </mat-card-content>
  </mat-card>

  <mat-card appearance="outlined">
    <mat-card-header>
      <mat-card-title class="header-register-position">Permissões</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field id="select-permission" appearance="outline">
        <mat-label>Selecione a permissão</mat-label>
        <mat-select [formControl]="permissionSelected">
          @for(permission of listPermission; track permission) {
          <mat-option [value]="permission">{{ permission.describe }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button matButton="filled" type="submit" (click)="addPermission($event)">
        Adicionar
      </button>
    </mat-card-actions>
  </mat-card>

  @defer(when listPermissionForPosition().length > 0){
  <mat-card appearance="outlined">
    <mat-card-header>
      <mat-card-title class="header-register-position">Lista de Permissões</mat-card-title>
    </mat-card-header>
    <mat-card-content style="max-height: 166px; overflow-y: auto;">
      <mat-list>
        @for(permission of listPermissionForPosition(); track permission) {
        <mat-list-item
          >{{ permission.describe }}
          <button matIconButton (click)="excludePermission($event, permission)" matListItemMeta>
            <mat-icon>delete</mat-icon>
          </button>
        </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
  </mat-card>
  }
  <section>
    <div class="button-redirect-search-position">
      <button mat-raised-button matButton="outlined" type="submit" (click)="goBack()">
        Voltar
      </button>
      <button mat-raised-button matButton="filled" type="submit">Salvar</button>
    </div>
  </section>
</form>
